language: go
sudo: false
services:
- mysql
- mongodb
addons:
  postgresql: "9.5"
before_script:
- go get -u github.com/golangci/golangci-lint/cmd/golangci-lint
- psql -c 'CREATE DATABASE dot_test;' -U postgres
- mongo dot_test --eval 'db.createUser({user:"root",pwd:"test",roles:["readWrite"]});'
- bash ./x/lint.sh
notifications:
  email: false
script: bash ./x/coverage.sh
after_success: bash ./x/upload_coverage.sh bash <(curl -s https://codecov.io/bash)
